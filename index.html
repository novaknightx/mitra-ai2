<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mitra AI - Your Digital Farming Companion</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #4CAF50, #8BC34A);
            min-height: 100vh;
            color: #333;
            transition: background 0.3s ease, color 0.3s ease;
        }
        body.dark-mode {
            background: linear-gradient(135deg, #1B5E20, #33691E);
            color: #EEE;
        }
        .container {
            max-width: 400px;
            margin: 0 auto;
            background: white;
            min-height: 100vh;
            box-shadow: 0 0 20px rgba(0,0,0,0.1);
            overflow: hidden;
            transition: background 0.3s ease;
        }
        body.dark-mode .container {
            background: #121212;
        }
        .header {
            background: linear-gradient(135deg, #2E7D32, #4CAF50);
            color: white;
            padding: 20px;
            text-align: center;
            position: relative;
            transition: background 0.3s ease;
        }
        body.dark-mode .header {
            background: linear-gradient(135deg, #1B5E20, #33691E);
        }
        .header h1 {
            font-size: 24px;
            margin-bottom: 5px;
            font-weight: 600;
        }
        .header p {
            font-size: 14px;
            opacity: 0.9;
        }
        .team-credits {
            font-size: 11px;
            opacity: 0.8;
            margin-top: 8px;
            font-style: italic;
        }
        .language-selector {
            position: absolute;
            top: 15px;
            right: 15px;
        }
        .language-selector select {
            background: rgba(255,255,255,0.2);
            border: 1px solid rgba(255,255,255,0.3);
            color: white;
            padding: 5px 10px;
            border-radius: 15px;
            font-size: 12px;
        }
        .dark-mode-toggle {
            position: absolute;
            top: 15px;
            left: 15px;
            background: rgba(255,255,255,0.2);
            border: 1px solid rgba(255,255,255,0.3);
            color: white;
            padding: 5px 10px;
            border-radius: 15px;
            font-size: 12px;
            cursor: pointer;
        }
        .voice-section {
            padding: 30px 20px;
            text-align: center;
            background: linear-gradient(135deg, #E8F5E8, #F1F8E9);
            transition: background 0.3s ease;
        }
        body.dark-mode .voice-section {
            background: linear-gradient(135deg, #263238, #37474F);
        }
        .voice-button {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            background: linear-gradient(135deg, #4CAF50, #66BB6A);
            border: none;
            color: white;
            font-size: 16px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 20px;
            transition: all 0.3s ease;
            box-shadow: 0 8px 20px rgba(76, 175, 80, 0.3);
        }
        body.dark-mode .voice-button {
            background: linear-gradient(135deg, #388E3C, #66BB6A);
            box-shadow: 0 8px 20px rgba(0,0,0,0.5);
        }
        .voice-button:hover {
            transform: scale(1.05);
            box-shadow: 0 10px 25px rgba(76, 175, 80, 0.4);
        }
        body.dark-mode .voice-button:hover {
            box-shadow: 0 10px 25px rgba(0,0,0,0.6);
        }
        .voice-button.listening {
            animation: pulse 1.5s infinite;
            background: linear-gradient(135deg, #FF5722, #FF7043);
        }
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }
        .voice-status {
            font-size: 14px;
            color: #666;
            margin-bottom: 20px;
            transition: color 0.3s ease;
        }
        body.dark-mode .voice-status {
            color: #BBB;
        }
        .quick-actions {
            padding: 20px;
        }
        .quick-actions h3 {
            color: #2E7D32;
            margin-bottom: 15px;
            font-size: 18px;
            transition: color 0.3s ease;
        }
        body.dark-mode .quick-actions h3 {
            color: #81C784;
        }
        .action-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
        }
        .action-card {
            background: white;
            border: 2px solid #E8F5E8;
            border-radius: 12px;
            padding: 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }
        body.dark-mode .action-card {
            background: #1E1E1E;
            border-color: #333;
            box-shadow: 0 2px 8px rgba(0,0,0,0.5);
        }
        .action-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(76, 175, 80, 0.2);
            border-color: #4CAF50;
        }
        body.dark-mode .action-card:hover {
            box-shadow: 0 4px 15px rgba(0,0,0,0.6);
            border-color: #81C784;
        }
        .action-card .icon {
            font-size: 32px;
            margin-bottom: 10px;
            display: block;
        }
        .action-card h4 {
            color: #2E7D32;
            font-size: 14px;
            margin-bottom: 5px;
            transition: color 0.3s ease;
        }
        body.dark-mode .action-card h4 {
            color: #81C784;
        }
        .action-card p {
            color: #666;
            font-size: 12px;
            line-height: 1.3;
            transition: color 0.3s ease;
        }
        body.dark-mode .action-card p {
            color: #BBB;
        }
        .chat-section {
            padding: 20px;
            background: #f9f9f9;
            display: none;
            transition: background 0.3s ease;
        }
        body.dark-mode .chat-section {
            background: #1E1E1E;
        }
        .chat-messages {
            max-height: 300px;
            overflow-y: auto;
            margin-bottom: 20px;
        }
        .message {
            background: white;
            padding: 15px;
            border-radius: 12px;
            margin-bottom: 10px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
            transition: background 0.3s ease;
        }
        body.dark-mode .message {
            background: #333;
            box-shadow: 0 2px 5px rgba(0,0,0,0.5);
        }
        .message.ai {
            background: linear-gradient(135deg, #E8F5E8, #F1F8E9);
            border-left: 4px solid #4CAF50;
            transition: background 0.3s ease, border-color 0.3s ease;
        }
        body.dark-mode .message.ai {
            background: linear-gradient(135deg, #263238, #37474F);
            border-left-color: #81C784;
        }
        .message.user {
            background: #2196F3;
            color: white;
            margin-left: 20px;
        }
        body.dark-mode .message.user {
            background: #1976D2;
        }
        .image-upload {
            padding: 20px;
            background: #f5f5f5;
            text-align: center;
            display: none;
            transition: background 0.3s ease;
        }
        body.dark-mode .image-upload {
            background: #1E1E1E;
        }
        .upload-area {
            border: 2px dashed #4CAF50;
            border-radius: 12px;
            padding: 40px 20px;
            cursor: pointer;
            transition: all 0.3s ease, border-color 0.3s ease;
        }
        body.dark-mode .upload-area {
            border-color: #81C784;
        }
        .upload-area:hover {
            background: #E8F5E8;
        }
        body.dark-mode .upload-area:hover {
            background: #263238;
        }
        .upload-area input {
            display: none;
        }
        .weather-widget, .price-widget {
            background: white;
            margin: 20px;
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
            transition: background 0.3s ease, box-shadow 0.3s ease;
        }
        body.dark-mode .weather-widget, body.dark-mode .price-widget {
            background: #1E1E1E;
            box-shadow: 0 2px 10px rgba(0,0,0,0.5);
        }
        .weather-widget h3, .price-widget h3 {
            color: #2E7D32;
            margin-bottom: 10px;
            font-size: 16px;
            transition: color 0.3s ease;
        }
        body.dark-mode .weather-widget h3, body.dark-mode .price-widget h3 {
            color: #81C784;
        }
        .weather-info, .price-info {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .temp {
            font-size: 24px;
            font-weight: bold;
            color: #4CAF50;
            transition: color 0.3s ease;
        }
        body.dark-mode .temp {
            color: #81C784;
        }
        .price {
            font-size: 18px;
            font-weight: bold;
            color: #FF9800;
            transition: color 0.3s ease;
        }
        body.dark-mode .price {
            color: #FFB74D;
        }
        .forecast-card {
            background: white;
            padding: 15px;
            margin-bottom: 10px;
            border-radius: 8px;
            border-left: 4px solid #4CAF50;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: background 0.3s ease;
        }
        body.dark-mode .forecast-card {
            background: #1E1E1E;
            border-left-color: #81C784;
        }
        .forecast-card.rain-alert {
            border-left-color: #FF9800;
            background: #FFF8E1;
        }
        body.dark-mode .forecast-card.rain-alert {
            background: #2E2620;
        }
        .forecast-day {
            font-weight: bold;
            margin-bottom: 5px;
        }
        .forecast-condition {
            color: #666;
            font-size: 14px;
        }
        body.dark-mode .forecast-condition {
            color: #BBB;
        }
        .forecast-alert {
            color: #FF9800;
            font-size: 12px;
            margin-top: 5px;
        }
        .forecast-weather {
            text-align: right;
        }
        .forecast-icon {
            font-size: 24px;
            margin-bottom: 5px;
        }
        .forecast-temp {
            font-size: 18px;
            font-weight: bold;
            color: #4CAF50;
        }
        body.dark-mode .forecast-temp {
            color: #81C784;
        }
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 400px;
            background: white;
            display: flex;
            justify-content: space-around;
            padding: 15px 0;
            box-shadow: 0 -2px 10px rgba(0,0,0,0.1);
            transition: background 0.3s ease, box-shadow 0.3s ease;
        }
        body.dark-mode .bottom-nav {
            background: #121212;
            box-shadow: 0 -2px 10px rgba(0,0,0,0.5);
        }
        .nav-item {
            text-align: center;
            cursor: pointer;
            padding: 5px;
            border-radius: 8px;
            transition: all 0.3s ease;
            flex: 1;
        }
        .nav-item:hover {
            background: #E8F5E8;
        }
        body.dark-mode .nav-item:hover {
            background: #263238;
        }
        .nav-item.active {
            background: #4CAF50;
            color: white;
        }
        body.dark-mode .nav-item.active {
            background: #388E3C;
        }
        .nav-item .icon {
            font-size: 20px;
            margin-bottom: 2px;
        }
        .nav-item .label {
            font-size: 10px;
        }
        .hidden {
            display: none;
        }
        .visible {
            display: block;
        }
        @media (max-width: 400px) {
            .container {
                max-width: 100%;
            }
            .bottom-nav {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <button class="dark-mode-toggle" id="darkModeToggle">ЁЯМЩ Dark Mode</button>
            <div class="language-selector">
                <select id="languageSelect">
                    <option value="en">English</option>
                    <option value="hi">рд╣рд┐рдВрджреА</option>
                    <option value="te">р░др▒Жр░▓р▒Бр░Чр▒Б</option>
                    <option value="mr">рдорд░рд╛рдареА</option>
                    <option value="ta">родрооро┐ро┤рпН</option>
                </select>
            </div>
            <h1>ЁЯМ╛ Mitra AI</h1>
            <p id="headerSubtitle">Your Digital Farming Companion</p>
            <div class="team-credits" id="teamCredits">Made by Team Codestrom</div>
        </div>
        <!-- Main Dashboard -->
        <div id="dashboard" class="section">
            <div class="voice-section">
                <button class="voice-button" id="voiceButton">
                    ЁЯОд<br>Tap to Speak
                </button>
                <div class="voice-status" id="voiceStatus">Say "Hi Mitra" to get started</div>
            </div>
            <div class="quick-actions">
                <h3 id="quickActionsTitle">Quick Actions</h3>
                <div class="action-grid">
                    <div class="action-card" onclick="showSection('chat', event)" data-section="chat">
                        <span class="icon">ЁЯМ▒</span>
                        <h4 id="cropAdviceTitle">Crop Advice</h4>
                        <p id="cropAdviceDesc">Get personalized crop recommendations</p>
                    </div>
                    <div class="action-card" onclick="showSection('disease', event)" data-section="disease">
                        <span class="icon">ЁЯФН</span>
                        <h4 id="diseaseDetectionTitle">Disease Detection</h4>
                        <p id="diseaseDetectionDesc">Upload plant photos for diagnosis</p>
                    </div>
                    <div class="action-card" onclick="showSection('weather', event)" data-section="weather">
                        <span class="icon">ЁЯМдя╕П</span>
                        <h4 id="weatherTitle">Weather</h4>
                        <p id="weatherDesc">Local weather forecasts & alerts</p>
                    </div>
                    <div class="action-card" onclick="showSection('market', event)" data-section="market">
                        <span class="icon">ЁЯТ░</span>
                        <h4 id="marketTitle">Market Prices</h4>
                        <p id="marketDesc">Real-time mandi prices</p>
                    </div>
                </div>
            </div>
            <div class="weather-widget">
                <h3 id="currentWeatherTitle">Today's Weather</h3>
                <div class="weather-info">
                    <div>
                        <div class="temp">28┬░C</div>
                        <div>Partly Cloudy</div>
                    </div>
                    <div>
                        <div>ЁЯТз 65% Humidity</div>
                        <div>ЁЯТи 12 km/h Wind</div>
                    </div>
                </div>
            </div>
            <div class="price-widget">
                <h3 id="marketPricesTitle">Market Prices</h3>
                <div class="price-info">
                    <div>
                        <div>ЁЯНЕ Tomato</div>
                        <div>ЁЯМ╛ Wheat</div>
                    </div>
                    <div>
                        <div class="price">тВ╣28/kg</div>
                        <div class="price">тВ╣2200/qtl</div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Disease Detection Section -->
        <div id="disease" class="section hidden">
            <div class="image-upload" style="display: block;">
                <h3 id="diseaseUploadTitle">Plant Disease Detection</h3>
                <div class="upload-area" onclick="document.getElementById('imageInput').click()">
                    <input type="file" id="imageInput" accept="image/*" onchange="handleImageUpload(event)">
                    <div style="font-size: 48px; margin-bottom: 15px;">ЁЯУ╖</div>
                    <p id="uploadInstruction">Tap to upload plant photo</p>
                    <p style="font-size: 12px; color: #666; margin-top: 10px;">Supports common Telangana crops: Rice, Cotton, Tomato, Chilli</p>
                </div>
            </div>
            <div class="chat-section" id="diseaseResults" style="display:none;">
                <h3>Analysis Results</h3>
                <div class="chat-messages" id="diseaseMessages"></div>
                <button onclick="resetDiseaseDetection()" style="background: #4CAF50; color: white; border: none; padding: 10px 20px; border-radius: 8px; cursor: pointer; margin-top: 10px;">
                    Upload Another Photo
                </button>
            </div>
        </div>
        <!-- Chat Section -->
        <div id="chat" class="section hidden">
            <div class="chat-section" style="display:block;">
                <h3 id="chatTitle">Chat with Mitra</h3>
                <div class="chat-messages" id="chatMessages"></div>
                <button class="voice-button" style="width:60px; height:60px; font-size:14px;" onclick="startVoiceChat()">
                    ЁЯОд
                </button>
            </div>
        </div>
        <!-- Weather Section -->
        <div id="weather" class="section hidden">
            <div style="padding: 20px;">
                <h3 id="weatherForecastTitle">7-Day Weather Forecast</h3>
                <div id="weatherForecast"></div>
            </div>
        </div>
        <!-- Market Section -->
        <div id="market" class="section hidden">
            <div style="padding: 20px;">
                <h3 id="marketDetailsTitle">Market Information</h3>
                <div id="marketDetails"></div>
            </div>
        </div>
        <!-- Bottom Navigation -->
        <div class="bottom-nav">
            <div class="nav-item active" onclick="showSection('dashboard', event)">
                <div class="icon">ЁЯПа</div>
                <div class="label" id="homeLabel">Home</div>
            </div>
            <div class="nav-item" onclick="showSection('chat', event)">
                <div class="icon">ЁЯТм</div>
                <div class="label" id="chatLabel">Chat</div>
            </div>
            <div class="nav-item" onclick="showSection('weather', event)">
                <div class="icon">ЁЯМдя╕П</div>
                <div class="label" id="weatherLabel">Weather</div>
            </div>
            <div class="nav-item" onclick="showSection('market', event)">
                <div class="icon">ЁЯТ░</div>
                <div class="label" id="marketLabel">Market</div>
            </div>
        </div>
    </div>
    <script>
        let currentLanguage = 'en';
        let isListening = false;
        let recognition;
        let userLocation = null;
        let weatherData = null;
        let isDarkMode = false;
        
        // Language translations
        const translations = {
            en: {
                headerSubtitle: "Your Digital Farming Companion",
                teamCredits: "Made by Team Codestrom",
                quickActionsTitle: "Quick Actions",
                cropAdviceTitle: "Crop Advice",
                cropAdviceDesc: "Get personalized crop recommendations",
                diseaseDetectionTitle: "Disease Detection",
                diseaseDetectionDesc: "Upload plant photos for diagnosis",
                weatherTitle: "Weather",
                weatherDesc: "Local weather forecasts & alerts",
                marketTitle: "Market Prices",
                marketDesc: "Real-time mandi prices",
                currentWeatherTitle: "Today's Weather",
                marketPricesTitle: "Market Prices",
                diseaseUploadTitle: "Plant Disease Detection",
                uploadInstruction: "Tap to upload plant photo",
                chatTitle: "Chat with Mitra",
                weatherForecastTitle: "7-Day Weather Forecast",
                marketDetailsTitle: "Market Information",
                homeLabel: "Home",
                chatLabel: "Chat",
                weatherLabel: "Weather",
                marketLabel: "Market"
            },
            hi: {
                headerSubtitle: "рдЖрдкрдХрд╛ рдбрд┐рдЬрд┐рдЯрд▓ рдЦреЗрддреА рд╕рд╛рдереА",
                teamCredits: "рдЯреАрдо рдХреЛрдбреЗрд╕реНрдЯреНрд░реЙрдо рджреНрд╡рд╛рд░рд╛ рдирд┐рд░реНрдорд┐рдд",
                quickActionsTitle: "рддреНрд╡рд░рд┐рдд рдХрд╛рд░реНрдп",
                cropAdviceTitle: "рдлрд╕рд▓ рд╕рд▓рд╛рд╣",
                cropAdviceDesc: "рд╡реНрдпрдХреНрддрд┐рдЧрдд рдлрд╕рд▓ рд╕реБрдЭрд╛рд╡ рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ",
                diseaseDetectionTitle: "рд░реЛрдЧ рдкрд╣рдЪрд╛рди",
                diseaseDetectionDesc: "рдирд┐рджрд╛рди рдХреЗ рд▓рд┐рдП рдкреМрдзреЛрдВ рдХреА рддрд╕реНрд╡реАрд░реЗрдВ рдЕрдкрд▓реЛрдб рдХрд░реЗрдВ",
                weatherTitle: "рдореМрд╕рдо",
                weatherDesc: "рд╕реНрдерд╛рдиреАрдп рдореМрд╕рдо рдкреВрд░реНрд╡рд╛рдиреБрдорд╛рди рдФрд░ рдЕрд▓рд░реНрдЯ",
                marketTitle: "рдмрд╛рдЬрд╝рд╛рд░ рднрд╛рд╡",
                marketDesc: "рд╡рд╛рд╕реНрддрд╡рд┐рдХ рд╕рдордп рдордВрдбреА рдореВрд▓реНрдп",
                currentWeatherTitle: "рдЖрдЬ рдХрд╛ рдореМрд╕рдо",
                marketPricesTitle: "рдмрд╛рдЬрд╝рд╛рд░ рднрд╛рд╡",
                diseaseUploadTitle: "рдкреМрдзреЗ рдХреА рдмреАрдорд╛рд░реА рдХреА рдкрд╣рдЪрд╛рди",
                uploadInstruction: "рдкреМрдзреЗ рдХреА рддрд╕реНрд╡реАрд░ рдЕрдкрд▓реЛрдб рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЯреИрдк рдХрд░реЗрдВ",
                chatTitle: "рдорд┐рддреНрд░рд╛ рд╕реЗ рдмрд╛рдд рдХрд░реЗрдВ",
                weatherForecastTitle: "7-рджрд┐рди рдореМрд╕рдо рдкреВрд░реНрд╡рд╛рдиреБрдорд╛рди",
                marketDetailsTitle: "рдмрд╛рдЬрд╝рд╛рд░ рдЬрд╛рдирдХрд╛рд░реА",
                homeLabel: "рд╣реЛрдо",
                chatLabel: "рдЪреИрдЯ",
                weatherLabel: "рдореМрд╕рдо",
                marketLabel: "рдорд╛рд░реНрдХреЗрдЯ"
            },
            te: {
                headerSubtitle: "р░ор▒А р░бр░┐р░Ьр░┐р░Яр░▓р▒Н р░╡р▒Нр░пр░╡р░╕р░╛р░п р░╕р░╣р░╛р░пр░Хр▒Бр░бр▒Б",
                teamCredits: "р░Яр▒Ар░ор▒Н р░Хр▒Лр░бр▒Зр░╕р▒Нр░Яр▒Нр░░р░╛р░ор▒Н р░Ър▒Зр░д р░др░пр░╛р░░р▒Б р░Ър▒Зр░пр░мр░бр░┐р░Вр░жр░┐",
                quickActionsTitle: "р░др▒Нр░╡р░░р░┐р░д р░Ър░░р▒Нр░пр░▓р▒Б",
                cropAdviceTitle: "р░кр░Вр░Я р░╕р░▓р░╣р░╛",
                cropAdviceDesc: "р░╡р▒Нр░пр░Хр▒Нр░др░┐р░Чр░др▒Ар░Хр░░р░┐р░Вр░Ър░┐р░и р░кр░Вр░Я р░╕р░┐р░лр░╛р░░р▒Нр░╕р▒Бр░▓р▒Б р░кр▒Кр░Вр░жр░Вр░бр░┐",
                diseaseDetectionTitle: "р░╡р▒Нр░пр░╛р░зр░┐ р░Чр▒Бр░░р▒Нр░др░┐р░Вр░кр▒Б",
                diseaseDetectionDesc: "р░ир░┐р░░р▒Нр░зр░╛р░░р░г р░Хр▒Лр░╕р░В р░ор▒Кр░Хр▒Нр░Хр░▓ р░лр▒Лр░Яр▒Лр░▓р░ир▒Б р░Ер░кр▒НтАМр░▓р▒Лр░бр▒Н р░Ър▒Зр░пр░Вр░бр░┐",
                weatherTitle: "р░╡р░╛р░др░╛р░╡р░░р░гр░В",
                weatherDesc: "р░╕р▒Нр░ер░╛р░ир▒Ар░п р░╡р░╛р░др░╛р░╡р░░р░г р░Ер░Вр░Ър░ир░╛р░▓р▒Б & р░╣р▒Жр░Ър▒Нр░Ър░░р░┐р░Хр░▓р▒Б",
                marketTitle: "р░ор░╛р░░р▒Нр░Хр▒Жр░Яр▒Н р░зр░░р░▓р▒Б",
                marketDesc: "р░░р░┐р░пр░▓р▒Н р░Яр▒Ир░ор▒Н р░ор░Вр░бр░┐ р░зр░░р░▓р▒Б",
                currentWeatherTitle: "р░ир▒Зр░Яр░┐ р░╡р░╛р░др░╛р░╡р░░р░гр░В",
                marketPricesTitle: "р░ор░╛р░░р▒Нр░Хр▒Жр░Яр▒Н р░зр░░р░▓р▒Б",
                diseaseUploadTitle: "р░ор▒Кр░Хр▒Нр░Хр░▓ р░╡р▒Нр░пр░╛р░зр░┐ р░Чр▒Бр░░р▒Нр░др░┐р░Вр░кр▒Б",
                uploadInstruction: "р░ор▒Кр░Хр▒Нр░Хр░▓ р░лр▒Лр░Яр▒Л р░Ер░кр▒НтАМр░▓р▒Лр░бр▒Н р░Ър▒Зр░пр░бр░╛р░ир░┐р░Хр░┐ р░Яр▒Нр░пр░╛р░кр▒Н р░Ър▒Зр░пр░Вр░бр░┐",
                chatTitle: "р░ор░┐р░др▒Нр░░р░╛р░др▒Л р░Ър░╛р░Яр▒Н р░Ър▒Зр░пр░Вр░бр░┐",
                weatherForecastTitle: "7-р░░р▒Лр░Ьр▒Бр░▓ р░╡р░╛р░др░╛р░╡р░░р░г р░Ер░Вр░Ър░ир░╛",
                marketDetailsTitle: "р░ор░╛р░░р▒Нр░Хр▒Жр░Яр▒Н р░╕р░ор░╛р░Ър░╛р░░р░В",
                homeLabel: "р░╣р▒Лр░ор▒Н",
                chatLabel: "р░Ър░╛р░Яр▒Н",
                weatherLabel: "р░╡р░╛р░др░╛р░╡р░░р░гр░В",
                marketLabel: "р░ор░╛р░░р▒Нр░Хр▒Жр░Яр▒Н"
            },
            mr: {
                headerSubtitle:"рддреБрдордЪрд╛ рдбрд┐рдЬрд┐рдЯрд▓ рд╢реЗрддреАрдЪрд╛ рд╕рд╛рдереАрджрд╛рд░",
                teamCredits: "рдЯреАрдо рдХреЛрдбреЗрд╕реНрдЯреНрд░реЙрдорджреНрд╡рд╛рд░реЗ рдирд┐рд░реНрдорд┐рдд",
                quickActionsTitle:"рдЬрд▓рдж рдХреНрд░рд┐рдпрд╛",
                cropAdviceTitle:"рдкреАрдХ рд╕рд▓реНрд▓рд╛",
                cropAdviceDesc:"рд╡реИрдпрдХреНрддрд┐рдХреГрдд рдкреАрдХ рд╢рд┐рдлрд╛рд░рд╕реА рдорд┐рд│рд╡рд╛",
                diseaseDetectionTitle:"рд░реЛрдЧ рд╢реЛрдзрдгреЗ",
                diseaseDetectionDesc:"рдирд┐рджрд╛рдирд╛рд╕рд╛рдареА рд╡рдирд╕реНрдкрддреАрдВрдЪреЗ рдлреЛрдЯреЛ рдЕрдкрд▓реЛрдб рдХрд░рд╛",
                weatherTitle:"рд╣рд╡рд╛рдорд╛рди",
                weatherDesc:"рд╕реНрдерд╛рдирд┐рдХ рд╣рд╡рд╛рдорд╛рди рдЕрдВрджрд╛рдЬ рдЖрдгрд┐ рд╕реВрдЪрдирд╛",
                marketTitle:"рдмрд╛рдЬрд╛рд░рднрд╛рд╡",
                marketDesc:"рд░рд┐рдЕрд▓-рдЯрд╛рдЗрдо рдордВрдбреА рдХрд┐рдорддреА",
                currentWeatherTitle:"рдЖрдЬрдЪреЗ рд╣рд╡рд╛рдорд╛рди",
                marketPricesTitle:"рдмрд╛рдЬрд╛рд░рднрд╛рд╡",
                diseaseUploadTitle:"рд╡рдирд╕реНрдкрддреА рд░реЛрдЧ рдУрд│рдЦ",
                uploadInstruction:"рд░реЛрдкрд╛рдЪрд╛ рдлреЛрдЯреЛ рдЕрдкрд▓реЛрдб рдХрд░рдгреНрдпрд╛рд╕рд╛рдареА рдЯреЕрдк рдХрд░рд╛",
                chatTitle:"рдорд┐рддреНрд░рд╛рд╢реА рдЧрдкреНрдкрд╛ рдорд╛рд░рд╛",
                weatherForecastTitle:"рен рджрд┐рд╡рд╕рд╛рдВрдЪрд╛ рд╣рд╡рд╛рдорд╛рди рдЕрдВрджрд╛рдЬ",
                marketDetailsTitle:"рдмрд╛рдЬрд╛рд░ рдорд╛рд╣рд┐рддреА",
                homeLabel:"рдШрд░",
                chatLabel:"рдЧрдкреНрдкрд╛",
                weatherLabel:"рд╣рд╡рд╛рдорд╛рди",
                marketLabel:"рдмрд╛рдЬрд╛рд░"
            },
            ta: {
                headerSubtitle: "роЙроЩрпНроХро│рпН роЯро┐роЬро┐роЯрпНроЯро▓рпН ро╡ро┐ро╡роЪро╛роп родрпБрогрпИ",
                teamCredits: "роЯрпАроорпН роХрпЛроЯрпЖро╕рпНроЯрпНро░рпЛроорпН роорпВро▓роорпН роЙро░рпБро╡ро╛роХрпНроХрокрпНрокроЯрпНроЯродрпБ",
                quickActionsTitle: "ро╡ро┐ро░рпИро╡ро╛рой роЪрпЖропро▓рпНроХро│рпН",
                cropAdviceTitle: "рокропро┐ро░рпН роЖро▓рпЛроЪройрпИ",
                cropAdviceDesc: "родройро┐рокрпНрокропройро╛роХрпНроХро┐роп рокропро┐ро░рпН рокро░ро┐роирпНродрпБро░рпИроХро│рпН рокрпЖро▒ро╡рпБроорпН",
                diseaseDetectionTitle: "роирпЛропрпН роХрогрпНроЯро▒ро┐родро▓рпН",
                diseaseDetectionDesc: "роирпЛропрпН роХрогрпНроЯро▒ро┐роп родро╛ро╡ро░ рокрпБроХрпИрокрпНрокроЯроЩрпНроХро│рпИ рокродро┐ро╡рпЗро▒рпНро▒ро╡рпБроорпН",
                weatherTitle: "ро╡ро╛ройро┐ро▓рпИ",
                weatherDesc: "роЙро│рпНро│рпВро░рпН ро╡ро╛ройро┐ро▓рпИ роорпБройрпНройро▒ро┐ро╡ро┐рокрпНрокрпБ рооро▒рпНро▒рпБроорпН роОроЪрпНроЪро░ро┐роХрпНроХрпИроХро│рпН",
                marketTitle: "роЪроирпНродрпИ ро╡ро┐ро▓рпИроХро│рпН",
                marketDesc: "роирпЗро░ро▓рпИ роорогрпНроЯро┐ ро╡ро┐ро▓рпИроХро│рпН",
                currentWeatherTitle: "роЗройрпНро▒рпИроп ро╡ро╛ройро┐ро▓рпИ",
                marketPricesTitle: "роЪроирпНродрпИ ро╡ро┐ро▓рпИроХро│рпН",
                diseaseUploadTitle: "родро╛ро╡ро░ роирпЛропрпН роХрогрпНроЯро▒ро┐родро▓рпН",
                uploadInstruction: "родро╛ро╡ро░ рокрпБроХрпИрокрпНрокроЯродрпНродрпИ рокродро┐ро╡рпЗро▒рпНро▒ родроЯрпНроЯро╡рпБроорпН",
                chatTitle: "рооро┐родрпНро░ро╛ро╡рпБроЯройрпН роЕро░роЯрпНроЯрпИ",
                weatherForecastTitle: "7 роиро╛ро│рпН ро╡ро╛ройро┐ро▓рпИ роорпБройрпНройро▒ро┐ро╡ро┐рокрпНрокрпБ",
                marketDetailsTitle: "роЪроирпНродрпИ родроХро╡ро▓рпН",
                homeLabel: "роорпБроХрокрпНрокрпБ",
                chatLabel: "роЕро░роЯрпНроЯрпИ",
                weatherLabel: "ро╡ро╛ройро┐ро▓рпИ",
                marketLabel: "роЪроирпНродрпИ"
            },
        };
        
        // Initialize app
        function initApp() {
            updateLanguage();
            initSpeechRecognition();
            getUserLocation();
            loadWeatherForecast();
            loadMarketDetails();
            toggleDarkMode(); // Initialize dark mode state
        }
        
        // Toggle dark mode
        function toggleDarkMode() {
            isDarkMode = !isDarkMode;
            document.body.classList.toggle('dark-mode', isDarkMode);
            const toggleButton = document.getElementById('darkModeToggle');
            toggleButton.textContent = isDarkMode ? 'тШАя╕П Light Mode' : 'ЁЯМЩ Dark Mode';
        }
        
        // Get user's current location - Fixed for Telangana default
        function getUserLocation() {
            // Set default location to Telangana (using Hyderabad coordinates)
            userLocation = { 
                lat: 17.385044, 
                lng: 78.486671,
                city: "Hyderabad",
                state: "Telangana"
            };
            
            document.getElementById('voiceStatus').textContent = 'Loading data for Telangana...';
            loadLiveWeatherData();
            loadLiveMarketData();
            
            // Optional: Still try to get actual location but don't wait for it
            if ("geolocation" in navigator) {
                navigator.geolocation.getCurrentPosition(
                    function(position) {
                        // Update location if user allows, but don't break if denied
                        userLocation = {
                            lat: position.coords.latitude,
                            lng: position.coords.longitude,
                            city: "Your Location",
                            state: "Telangana"
                        };
                        console.log('Updated to user location:', userLocation);
                    },
                    function(error) {
                        console.log('Using default Telangana location');
                    },
                    { timeout: 5000, maximumAge: 300000 }
                );
            }
        }
        
        // Update the getCityName function to return Telangana cities
        async function getCityName(lat, lng) {
            const telanganaCities = ['Hyderabad', 'Warangal', 'Nizamabad', 'Karimnagar', 'Khammam'];
            return telanganaCities[Math.floor(Math.random() * telanganaCities.length)];
        }
        
        // Load live weather data - Updated for Telangana
        async function loadLiveWeatherData() {
            try {
                // Mock weather data realistic for Telangana climate
                const mockWeatherData = {
                    main: {
                        temp: Math.round(25 + Math.random() * 8), // 25-33┬░C typical for Telangana
                        humidity: Math.round(60 + Math.random() * 25), // 60-85% humidity
                        feels_like: Math.round(28 + Math.random() * 8)
                    },
                    weather: [
                        {
                            main: ['Clear', 'Partly Cloudy', 'Hot'][Math.floor(Math.random() * 3)],
                            description: 'Typical Telangana weather'
                        }
                    ],
                    wind: {
                        speed: Math.round(8 + Math.random() * 7) // 8-15 km/h typical
                    },
                    name: userLocation.city || 'Hyderabad'
                };
                
                weatherData = mockWeatherData;
                updateCurrentWeather();
                document.getElementById('voiceStatus').textContent = `Weather loaded for ${weatherData.name}, Telangana`;
                
                setTimeout(() => {
                    document.getElementById('voiceStatus').textContent = 'Say "Hi Mitra" to get started';
                }, 2000);
            } catch (error) {
                console.error('Weather data error:', error);
                document.getElementById('voiceStatus').textContent = 'Using default weather data';
            }
        }
        
        // Get city name from coordinates
        // async function getCityName(lat, lng) {
        //     // In a real app, you'd use reverse geocoding API
        //     // For now, we'll return a simulated city name
        //     const cities = ['Hyderabad', 'Mumbai', 'Delhi', 'Bangalore', 'Chennai', 'Pune', 'Kolkata'];
        //     return cities[Math.floor(Math.random() * cities.length)];
        // }
        
        // Update current weather display
        function updateCurrentWeather() {
            if (!weatherData) return;
            const weatherWidget = document.querySelector('.weather-widget .weather-info');
            const tempElement = weatherWidget.querySelector('.temp');
            const conditionElements = weatherWidget.querySelectorAll('div:not(.temp)');
            tempElement.textContent = `${weatherData.main.temp}┬░C`;
           
            // Update weather details
            const weatherDetails = weatherWidget.children[1];
            weatherDetails.innerHTML = `
                <div>ЁЯТз ${weatherData.main.humidity}% Humidity</div>
                <div>ЁЯТи ${weatherData.wind.speed} km/h Wind</div>
            `;
            // Update weather condition
            const conditionText = weatherWidget.children[0].children[1];
            conditionText.textContent = weatherData.weather[0].description;
        }
        
        // Load live market data based on location
        async function loadLiveMarketData() {
            try {
                // Simulate location-based market data
                // In real app, integrate a market API like Agmarknet or similar
                // Example: const response = await fetch('https://api.agmarknet.gov.in/...');
                const locationBasedPrices = generateLocationBasedPrices();
                updateCurrentPrices(locationBasedPrices);
            } catch (error) {
                console.error('Market API error:', error);
            }
        }
        
        // Generate location-based market prices - Updated for Telangana
        function generateLocationBasedPrices() {
            // Telangana typical market prices
            const telanganaBasePrices = {
                tomato: 28,   // Slightly higher than national average
                wheat: 2200,  // Good wheat prices in Telangana
                onion: 20,    // Local onion prices
                rice: 3100    // Rice is major crop in Telangana
            };
            
            // Small daily variation
            const dailyFactor = 0.95 + Math.random() * 0.1; // 5% daily variation
            
            return {
                tomato: Math.round(telanganaBasePrices.tomato * dailyFactor),
                wheat: Math.round(telanganaBasePrices.wheat * dailyFactor),
                onion: Math.round(telanganaBasePrices.onion * dailyFactor),
                rice: Math.round(telanganaBasePrices.rice * dailyFactor)
            };
        }
        
        // Update current prices display
        function updateCurrentPrices(prices) {
            const priceWidget = document.querySelector('.price-widget .price-info');
            const priceElements = priceWidget.querySelectorAll('.price');
           
            if (priceElements.length >= 2) {
                priceElements[0].textContent = `тВ╣${prices.tomato}/kg`;
                priceElements[1].textContent = `тВ╣${prices.wheat}/qtl`;
            }
        }
        
        // Update language
        function updateLanguage() {
            const lang = document.getElementById('languageSelect').value;
            currentLanguage = lang;
           
            if (translations[lang]) {
                Object.keys(translations[lang]).forEach(key => {
                    const element = document.getElementById(key);
                    if (element) {
                        element.textContent = translations[lang][key];
                    }
                });
            }
        }
        
        // Initialize speech recognition
        function initSpeechRecognition() {
            if ('webkitSpeechRecognition' in window || 'SpeechRecognition' in window) {
                const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
                recognition = new SpeechRecognition();
                recognition.continuous = false;
                recognition.lang = getLanguageCode(currentLanguage);
                recognition.interimResults = false;
                recognition.maxAlternatives = 1;
                
                recognition.onstart = function() {
                    isListening = true;
                    document.getElementById('voiceButton').classList.add('listening');
                    document.getElementById('voiceStatus').textContent = 'Listening...';
                };
                
                recognition.onresult = function(event) {
                    const transcript = event.results[0][0].transcript;
                    handleVoiceInput(transcript);
                };
                
                recognition.onerror = function(event) {
                    console.log('Speech recognition error:', event.error);
                    stopListening();
                };
                
                recognition.onend = function() {
                    stopListening();
                };
            }
        }
        
        function getLanguageCode(lang) {
            const codes = {
                'en': 'en-US',
                'hi': 'hi-IN',
                'te': 'te-IN',
                'mr': 'mr-IN',
                'ta': 'ta-IN'
            };
            return codes[lang] || 'en-US';
        }
        
        function startListening() {
            if (recognition && !isListening) {
                recognition.lang = getLanguageCode(currentLanguage);
                recognition.start();
            }
        }
        
        function stopListening() {
            isListening = false;
            document.getElementById('voiceButton').classList.remove('listening');
            document.getElementById('voiceStatus').textContent = 'Say "Hi Mitra" to get started';
        }
        
        function handleVoiceInput(text) {
            addChatMessage(text, 'user');
           
            // Simulate AI response
            setTimeout(() => {
                let response = generateAIResponse(text);
                addChatMessage(response, 'ai');
                speakText(response);
            }, 1000);
        }
        
        function generateAIResponse(input) {
            const responses = {
                en: {
                    greeting: "Hello! I'm Mitra, your farming assistant for Telangana. How can I help you today?",
                    creator: "I was made by Team Codestrom from AI&ML third year students for supporting the farmers in Telangana to upgrade their farming practices.",
                    crop: `Based on Telangana's soil and weather conditions in ${weatherData ? weatherData.name : 'your area'}, I recommend planting rice or cotton this season. Current temperature ${weatherData ? weatherData.main.temp + '┬░C' : '28┬░C'} is ideal for these crops.`,
                    disease: "Please upload a photo of your plant, and I'll help identify any diseases common in Telangana and suggest treatments.",
                    weather: `Current weather in ${weatherData ? weatherData.name : 'Hyderabad'}: ${weatherData ? weatherData.main.temp + '┬░C, ' + weatherData.weather[0].description : '28┬░C, partly cloudy'}. ${weatherData && weatherData.main.humidity > 80 ? 'High humidity - watch for fungal diseases.' : 'Good conditions for most farming activities in Telangana.'}`,
                    market: `Current market prices in Telangana: Tomato тВ╣${generateLocationBasedPrices().tomato}/kg, Wheat тВ╣${generateLocationBasedPrices().wheat}/qtl, Rice тВ╣${generateLocationBasedPrices().rice}/qtl. These are typical Hyderabad mandi rates.`,
                    default: "I understand you're asking about farming. I can help with crops suitable for Telangana, diseases, weather, or market prices. What would you like to know?"
                },
                hi: {
                    greeting: "рдирдорд╕реНрддреЗ! рдореИрдВ рдорд┐рддреНрд░рд╛ рд╣реВрдБ, рддреЗрд▓рдВрдЧрд╛рдирд╛ рдХреЗ рд▓рд┐рдП рдЖрдкрдХрд╛ рдЦреЗрддреА рд╕рд╣рд╛рдпрдХред рдЖрдЬ рдореИрдВ рдЖрдкрдХреА рдХреИрд╕реЗ рдорджрдж рдХрд░ рд╕рдХрддрд╛ рд╣реВрдБ?",
                    creator: "рдореИрдВ AI&ML рдХреЗ рддреАрд╕рд░реЗ рд╕рд╛рд▓ рдХреЗ рдЫрд╛рддреНрд░реЛрдВ рдХреА рдЯреАрдо рдХреЛрдбреЗрд╕реНрдЯреНрд░реЙрдо рджреНрд╡рд╛рд░рд╛ рддреЗрд▓рдВрдЧрд╛рдирд╛ рдХреЗ рдХрд┐рд╕рд╛рдиреЛрдВ рдХреЛ рдЕрдкрдЧреНрд░реЗрдб рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдмрдирд╛рдпрд╛ рдЧрдпрд╛ рдерд╛ред",
                    crop: `рддреЗрд▓рдВрдЧрд╛рдирд╛ рдХреА рдорд┐рдЯреНрдЯреА рдФрд░ рдореМрд╕рдо рдХреА рд╕реНрдерд┐рддрд┐ рдХреЗ рдЖрдзрд╛рд░ рдкрд░, рдореИрдВ рдЗрд╕ рд╕реАрдЬрди рдореЗрдВ рдЪрд╛рд╡рд▓ рдпрд╛ рдХрдкрд╛рд╕ рд▓рдЧрд╛рдиреЗ рдХреА рд╕рд▓рд╛рд╣ рджреЗрддрд╛ рд╣реВрдБред`,
                    disease: "рдХреГрдкрдпрд╛ рдЕрдкрдиреЗ рдкреМрдзреЗ рдХреА рддрд╕реНрд╡реАрд░ рдЕрдкрд▓реЛрдб рдХрд░реЗрдВ, рдореИрдВ рддреЗрд▓рдВрдЧрд╛рдирд╛ рдореЗрдВ рдЖрдо рдмреАрдорд╛рд░рд┐рдпреЛрдВ рдХреА рдкрд╣рдЪрд╛рди рдореЗрдВ рдорджрдж рдХрд░реВрдВрдЧрд╛ред",
                    weather: `${weatherData ? weatherData.name : 'рд╣реИрджрд░рд╛рдмрд╛рдж'} рдореЗрдВ рд╡рд░реНрддрдорд╛рди рдореМрд╕рдо: ${weatherData ? weatherData.main.temp + '┬░C, ' + weatherData.weather[0].description : '28┬░C, рдЖрдВрд╢рд┐рдХ рд░реВрдк рд╕реЗ рдмрд╛рджрд▓'}ред`,
                    market: `рддреЗрд▓рдВрдЧрд╛рдирд╛ рдореЗрдВ рд╡рд░реНрддрдорд╛рди рдмрд╛рдЬрд╝рд╛рд░ рднрд╛рд╡: рдЯрдорд╛рдЯрд░ тВ╣${generateLocationBasedPrices().tomato}/рдХрд┐рд▓реЛ, рдЪрд╛рд╡рд▓ тВ╣${generateLocationBasedPrices().rice}/рдХреНрд╡рд┐рдВрдЯрд▓ред`,
                    default: "рдореИрдВ рд╕рдордЭрддрд╛ рд╣реВрдБ рдХрд┐ рдЖрдк рдЦреЗрддреА рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдкреВрдЫ рд░рд╣реЗ рд╣реИрдВред рдореИрдВ рддреЗрд▓рдВрдЧрд╛рдирд╛ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреБрдХреНрдд рдлрд╕рд▓реЛрдВ рдореЗрдВ рд╕рд╣рд╛рдпрддрд╛ рдХрд░ рд╕рдХрддрд╛ рд╣реВрдБред"
                },
                te: {
                    greeting: "р░ир░ор░╕р▒Нр░Хр░╛р░░р░В! р░ир▒Зр░ир▒Б р░ор░┐р░др▒Нр░░р░╛, р░др▒Жр░▓р░Вр░Чр░╛р░г р░Хр▒Лр░╕р░В р░ор▒А р░╡р▒Нр░пр░╡р░╕р░╛р░п р░╕р░╣р░╛р░пр░Хр▒Бр░бр░┐р░ир░┐ред р░Ир░░р▒Лр░Ьр▒Б р░ир▒Зр░ир▒Б р░ор▒Ар░Хр▒Б р░Ор░▓р░╛ р░╕р░╣р░╛р░пр░В р░Ър▒Зр░пр░Чр░▓р░ир▒Б?",
                    creator: "р░ир▒Зр░ир▒Б AI&ML р░ор▒Вр░бр░╡ р░╕р░Вр░╡р░др▒Нр░╕р░░ р░╡р░┐р░жр▒Нр░пр░╛р░░р▒Нр░ер▒Бр░▓ р░Яр▒Ар░ор▒Н р░Хр▒Лр░бр▒Зр░╕р▒Нр░Яр▒Нр░░р░╛р░ор▒Н р░Ър▒Зр░д р░др▒Жр░▓р░Вр░Чр░╛р░г р░░р▒Ир░др▒Бр░▓р░Хр▒Б р░╡р▒Нр░пр░╡р░╕р░╛р░п р░кр░жр▒Нр░зр░др▒Бр░▓р░ир▒Б р░Ер░кр▒НтАМр░Чр▒Нр░░р▒Зр░бр▒Н р░Ър▒Зр░пр░бр░╛р░ир░┐р░Хр░┐ р░ор░жр▒Нр░жр░др▒Б р░Зр░╡р▒Нр░╡р░бр░╛р░ир░┐р░Хр░┐ р░др░пр░╛р░░р▒Б р░Ър▒Зр░пр░мр░бр▒Нр░бр░╛р░ир▒Б.",
                    crop: `р░др▒Жр░▓р░Вр░Чр░╛р░г р░пр▒Кр░Хр▒Нр░Х р░ор░Яр▒Нр░Яр░┐ р░ор░░р░┐р░пр▒Б р░╡р░╛р░др░╛р░╡р░░р░г р░кр░░р░┐р░╕р▒Нр░ер░┐р░др▒Бр░▓ р░Жр░зр░╛р░░р░Вр░Чр░╛, р░И р░╕р▒Ар░Ьр░ир▒НтАМр░▓р▒Л р░╡р░░р░┐ р░▓р▒Зр░жр░╛ р░кр░др▒Нр░др░┐р░ир░┐ р░кр░Вр░бр░┐р░Вр░Ър░╛р░▓р░ир░┐ р░╕р░┐р░лр░╛р░░р▒Нр░╕р▒Б р░Ър▒Зр░╕р▒Нр░др▒Бр░ир▒Нр░ир░╛р░ир▒Бред`,
                    disease: "р░жр░пр░Ър▒Зр░╕р░┐ р░ор▒А р░ор▒Кр░Хр▒Нр░Х р░пр▒Кр░Хр▒Нр░Х р░лр▒Лр░Яр▒Лр░ир▒Б р░Ер░кр▒НтАМр░▓р▒Лр░бр▒Н р░Ър▒Зр░пр░Вр░бр░┐, р░др▒Жр░▓р░Вр░Чр░╛р░гр░▓р▒Л р░╕р░╛р░зр░╛р░░р░г р░╡р▒Нр░пр░╛р░зр▒Бр░▓ р░Чр▒Бр░░р▒Нр░др░┐р░Вр░кр▒Бр░▓р▒Л р░╕р░╣р░╛р░пр░В р░Ър▒Зр░╕р▒Нр░др░╛р░ир▒Бред",
                    weather: `${weatherData ? weatherData.name : 'р░╣р▒Ир░жр░░р░╛р░мр░╛р░жр▒Н'}р░▓р▒Л р░кр▒Нр░░р░╕р▒Нр░др▒Бр░д р░╡р░╛р░др░╛р░╡р░░р░гр░В: ${weatherData ? weatherData.main.temp + '┬░C, ' + weatherData.weather[0].description : '28┬░C, р░кр░╛р░Хр▒Нр░╖р░┐р░Хр░Вр░Чр░╛ р░ор▒Зр░Шр░╛р░╡р▒Гр░др░В'}ред`,
                    market: `р░др▒Жр░▓р░Вр░Чр░╛р░гр░▓р▒Л р░кр▒Нр░░р░╕р▒Нр░др▒Бр░д р░ор░╛р░░р▒Нр░Хр▒Жр░Яр▒Н р░зр░░р░▓р▒Б: р░Яр▒Кр░ор░╛р░Яр▒Л тВ╣${generateLocationBasedPrices().tomato}/р░Хр░┐р░▓р▒Л, р░╡р░░р░┐ тВ╣${generateLocationBasedPrices().rice}/р░Хр▒Нр░╡р░┐р░Вр░Яр░▓р▒Нред`,
                    default: "р░ор▒Ар░░р▒Б р░╡р▒Нр░пр░╡р░╕р░╛р░пр░В р░Чр▒Бр░░р░┐р░Вр░Ър░┐ р░Ер░бр▒Бр░Чр▒Бр░др▒Бр░ир▒Нр░ир░╛р░░р░ир░┐ р░ир▒Зр░ир▒Б р░Ер░░р▒Нр░ер░В р░Ър▒Зр░╕р▒Бр░Хр▒Бр░ир▒Нр░ир░╛р░ир▒Бред р░др▒Жр░▓р░Вр░Чр░╛р░гр░Хр▒Б р░Ер░ир▒Бр░╡р▒Ир░и р░кр░Вр░Яр░▓р░▓р▒Л р░ир▒Зр░ир▒Б р░╕р░╣р░╛р░пр░В р░Ър▒Зр░пр░Чр░▓р░ир▒Бред"
                },
                mr: {
                    greeting: "рдирдорд╕реНрдХрд╛рд░! рдореА рдорд┐рддреНрд░рд╛, рддреЗрд▓рдВрдЧрдгрд╛рд╕рд╛рдареА рддреБрдордЪрд╛ рд╢реЗрддреА рд╕рд╣рд╛рдпреНрдпрдХ. рдЖрдЬ рдореА рддреБрдореНрд╣рд╛рд▓рд╛ рдХрд╢реА рдорджрдд рдХрд░реВ рд╢рдХрддреЛ?",
                    creator: "рдорд▓рд╛ AI&ML рддреГрддреАрдп рд╡рд░реНрд╖рд╛рддреАрд▓ рд╡рд┐рджреНрдпрд╛рд░реНрдереНрдпрд╛рдВрдЪреНрдпрд╛ рдЯреАрдо рдХреЛрдбреЗрд╕реНрдЯреНрд░реЙрдордиреЗ рддреЗрд▓рдВрдЧрдгрд╛рддреАрд▓ рд╢реЗрддрдХрд▒реНрдпрд╛рдВрдирд╛ рддреНрдпрд╛рдВрдЪреНрдпрд╛ рд╢реЗрддреА рдкрджреНрдзрддреА рдЕрдкрдЧреНрд░реЗрдб рдХрд░рдгреНрдпрд╛рд╕рд╛рдареА рдорджрдд рдХрд░рдгреНрдпрд╛рд╕рд╛рдареА рдмрдирд╡рд▓реЗ.",
                    crop: "рддреЗрд▓рдВрдЧрдгрд╛рдЪреНрдпрд╛ рдорд╛рддреАрдЪреНрдпрд╛ рдЖрдгрд┐ рд╣рд╡рд╛рдорд╛рдирд╛рдЪреНрдпрд╛ рдкрд░рд┐рд╕реНрдерд┐рддреАрдиреБрд╕рд╛рд░, рдпрд╛ рд╣рдВрдЧрд╛рдорд╛рдд рддрд╛рдВрджреВрд│ рдХрд┐рдВрд╡рд╛ рдХрд╛рдкреВрд╕ рд▓рд╛рд╡рдгреНрдпрд╛рдЪреА рд╢рд┐рдлрд╛рд░рд╕ рдХрд░рддреЛ.",
                    disease: "рдХреГрдкрдпрд╛ рдЖрдкрд▓реНрдпрд╛ рд╡рдирд╕реНрдкрддреАрдЪрд╛ рдлреЛрдЯреЛ рдЕрдкрд▓реЛрдб рдХрд░рд╛, рдореА рддреЗрд▓рдВрдЧрдгрд╛рдд рд╕рд╛рдорд╛рдиреНрдп рд░реЛрдЧрд╛рдВрдЪреА рдУрд│рдЦ рдХрд░рдгреНрдпрд╛рдд рдорджрдд рдХрд░реЗрд▓.",
                    weather: `${weatherData ? weatherData.name : 'рд╣реИрджрд░рд╛рдмрд╛рдж'}рдордзреНрдпреЗ рд╕рджреНрдпрд╕реНрдерд┐рддреАрддреАрд▓ рд╣рд╡рд╛рдорд╛рди: ${weatherData ? weatherData.main.temp + '┬░C, ' + weatherData.weather[0].description : '28┬░C, рдЕрдВрд╢рддрдГ рдврдЧрд╛рд│'}ред`,
                    market: `рддреЗрд▓рдВрдЧрдгрд╛рддреАрд▓ рд╕рджреНрдпрд╕реНрдерд┐рддреАрддреАрд▓ рдмрд╛рдЬрд╛рд░рднрд╛рд╡: рдЯреЛрдореЕрдЯреЛ тВ╣${generateLocationBasedPrices().tomato}/рдХрд┐рд▓реЛ, рддрд╛рдВрджреВрд│ тВ╣${generateLocationBasedPrices().rice}/рдХреНрд╡рд┐рдВрдЯрд▓ред`,
                    default: "рддреБрдореНрд╣реА рд╢реЗрддреАрдмрджреНрджрд▓ рд╡рд┐рдЪрд╛рд░рдд рдЖрд╣рд╛рдд рд╣реЗ рдорд▓рд╛ рд╕рдордЬрддреЗ. рддреЗрд▓рдВрдЧрдгрд╛рд╕рд╛рдареА рдпреЛрдЧреНрдп рдкрд┐рдХрд╛рдВрдордзреНрдпреЗ рдореА рдорджрдд рдХрд░реВ рд╢рдХрддреЛред"
                },
                ta: {
                    greeting: "ро╡рогроХрпНроХроорпН! роиро╛ройрпН рооро┐родрпНро░ро╛, родрпЖро▓рпБроЩрпНроХро╛ройро╛ро╡рпБроХрпНроХро╛рой роЙроЩрпНроХро│рпН ро╡ро┐ро╡роЪро╛роп роЙродро╡ро┐ропро╛ро│ро░рпН. роЗройрпНро▒рпБ роиро╛ройрпН роЙроЩрпНроХро│рпБроХрпНроХрпБ роОрокрпНрокроЯро┐ роЙродро╡ роорпБроЯро┐ропрпБроорпН?",
                    creator: "роиро╛ройрпН AI&ML роорпВройрпНро▒ро╛роорпН роЖрогрпНроЯрпБ рооро╛рогро╡ро░рпНроХро│ро┐ройрпН роЯрпАроорпН роХрпЛроЯрпЖро╕рпНроЯрпНро░рпЛроорпН роорпВро▓роорпН родрпЖро▓рпБроЩрпНроХро╛ройро╛ ро╡ро┐ро╡роЪро╛ропро┐роХро│ро┐ройрпН ро╡ро┐ро╡роЪро╛роп роорпБро▒рпИроХро│рпИ роорпЗроорпНрокроЯрпБродрпНрод роЙродро╡рпБро╡родро▒рпНроХро╛роХ роЙро░рпБро╡ро╛роХрпНроХрокрпНрокроЯрпНроЯрпЗройрпН.",
                    crop: "родрпЖро▓рпБроЩрпНроХро╛ройро╛ро╡ро┐ройрпН роорогрпН рооро▒рпНро▒рпБроорпН роХро╛ро▓роиро┐ро▓рпИ роиро┐ро▓рпИроорпИроХро│ро┐ройрпН роЕроЯро┐рокрпНрокроЯрпИропро┐ро▓рпН, роЗроирпНрод рокро░рпБро╡родрпНродро┐ро▓рпН роирпЖро▓рпН роЕро▓рпНро▓родрпБ рокро░рпБродрпНродро┐ рокропро┐ро░ро┐роЯ рокро░ро┐роирпНродрпБро░рпИроХрпНроХро┐ро▒рпЗройрпН.",
                    disease: "роЙроЩрпНроХро│рпН роЪрпЖроЯро┐ропро┐ройрпН рокрпБроХрпИрокрпНрокроЯродрпНродрпИ рокродро┐ро╡рпЗро▒рпНро▒ро╡рпБроорпН, родрпЖро▓рпБроЩрпНроХро╛ройро╛ро╡ро┐ро▓рпН рокрпКродрпБро╡ро╛рой роирпЛропрпНроХро│рпИ роХрогрпНроЯро▒ро┐роп роЙродро╡рпБроХро┐ро▒рпЗройрпН.",
                    weather: `${weatherData ? weatherData.name : 'ро╣рпИродро░ро╛рокро╛родрпН'}роЗро▓рпН родро▒рпНрокрпЛродрпИроп ро╡ро╛ройро┐ро▓рпИ: ${weatherData ? weatherData.main.temp + '┬░C, ' + weatherData.weather[0].description : '28┬░C, рокроХрпБродро┐ропро│ро╡рпБ роорпЗроХроорпВроЯрпНроЯроорпН'}ред`,
                    market: `родрпЖро▓рпБроЩрпНроХро╛ройро╛ро╡ро┐ро▓рпН родро▒рпНрокрпЛродрпИроп роЪроирпНродрпИ ро╡ро┐ро▓рпИроХро│рпН: родроХрпНроХро╛ро│ро┐ тВ╣${generateLocationBasedPrices().tomato}/роХро┐ро▓рпЛ, роЕро░ро┐роЪро┐ тВ╣${generateLocationBasedPrices().rice}/роХрпБро╡ро┐рогрпНроЯро╛ро▓рпНред`,
                    default: "роирпАроЩрпНроХро│рпН ро╡ро┐ро╡роЪро╛ропродрпНродрпИрокрпН рокро▒рпНро▒ро┐ роХрпЗроЯрпНроХро┐ро▒рпАро░рпНроХро│рпН роОройрпНро▒рпБ рокрпБро░ро┐роХро┐ро▒родрпБ. родрпЖро▓рпБроЩрпНроХро╛ройро╛ро╡ро┐ро▒рпНроХрпБ роПро▒рпНро▒ рокропро┐ро░рпНроХро│ро┐ро▓рпН роОройрпНройро╛ро▓рпН роЙродро╡ роорпБроЯро┐ропрпБроорпНред"
                }
            };
            
            const lang = responses[currentLanguage] || responses.en;
            const lowerInput = input.toLowerCase();
            
            if (lowerInput.includes('who made you') || lowerInput.includes('creator') || lowerInput.includes('who created you') || lowerInput.includes('рдХрд┐рд╕рдиреЗ рдмрдирд╛рдпрд╛') || lowerInput.includes('р░ир░┐р░ир▒Нр░ир▒Б р░Ор░╡р░░р▒Б р░др░пр░╛р░░р▒Б р░Ър▒Зр░╢р░╛р░░р▒Б')|| lowerInput.includes('рддреБрдореНрд╣рд╛рд▓рд╛ рдХреЛрдгреА рдмрдирд╡рд▓реЗ')) {
                return lang.creator;
            } else if (lowerInput.includes('hello') || lowerInput.includes('hi') || lowerInput.includes('рдирдорд╕реНрддреЗ') || lowerInput.includes('р░ир░ор░╕р▒Нр░Хр░╛р░░р░В') || lowerInput.includes('рдирдорд╕реНрдХрд╛рд░')) {
                return lang.greeting;
            } else if (lowerInput.includes('crop') || lowerInput.includes('рдлрд╕рд▓') || lowerInput.includes('р░кр░Вр░Я')) {
                return lang.crop;
            } else if (lowerInput.includes('disease') || lowerInput.includes('рдмреАрдорд╛рд░реА') || lowerInput.includes('р░╡р▒Нр░пр░╛р░зр░┐')) {
                return lang.disease;
            } else if (lowerInput.includes('weather') || lowerInput.includes('рдореМрд╕рдо') || lowerInput.includes('р░╡р░╛р░др░╛р░╡р░░р░гр░В')) {
                return lang.weather;
            } else if (lowerInput.includes('price') || lowerInput.includes('market') || lowerInput.includes('рднрд╛рд╡') || lowerInput.includes('р░зр░░')) {
                return lang.market;
            } else {
                return lang.default;
            }
        }
        
        function speakText(text) {
            if ('speechSynthesis' in window) {
                const utterance = new SpeechSynthesisUtterance(text);
                utterance.lang = getLanguageCode(currentLanguage);
                utterance.rate = 0.8;
                speechSynthesis.speak(utterance);
            }
        }
        
        function addChatMessage(message, type) {
            const chatMessages = document.getElementById('chatMessages');
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${type}`;
            messageDiv.textContent = message;
            chatMessages.appendChild(messageDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }
        
        function showSection(sectionName, event) {
            // Hide all sections
            const sections = document.querySelectorAll('.section');
            sections.forEach(section => section.classList.add('hidden'));
           
            // Show selected section
            const targetSection = document.getElementById(sectionName);
            if (targetSection) {
                targetSection.classList.remove('hidden');
            }
            
            // Special handling for disease detection
            if (sectionName === 'disease') {
                // Reset the disease detection interface
                const diseaseResults = document.getElementById('diseaseResults');
                const messagesDiv = document.getElementById('diseaseMessages');
                diseaseResults.style.display = 'none';
                messagesDiv.innerHTML = '';
                
                // Show upload interface
                const imageUpload = document.querySelector('.image-upload');
                if (imageUpload) {
                    imageUpload.style.display = 'block';
                }
            }
            
            // Special handling for chat section (crop advice)
            if (sectionName === 'chat') {
                const chatSection = document.querySelector('#chat .chat-section');
                if (chatSection) {
                    chatSection.style.display = 'block';
                }
                // Add helpful message for crop advice
                setTimeout(() => {
                    const chatMessages = document.getElementById('chatMessages');
                    if (chatMessages.children.length <= 1) {
                        addChatMessage("Hi! I can help you with crop advice for Telangana. Ask me about suitable crops for your soil type, best planting times, or farming techniques.", 'ai');
                    }
                }, 500);
            }
            
            // Update navigation
            const navItems = document.querySelectorAll('.nav-item');
            navItems.forEach(item => item.classList.remove('active'));
            
            // Handle nav item activation properly
            if (event && event.target) {
                const navItem = event.target.closest('.nav-item');
                if (navItem) {
                    navItem.classList.add('active');
                } else {
                    // If clicked from action card, find the corresponding nav item
                    const correspondingNavItem = document.querySelector(`.nav-item[onclick*="${sectionName}"]`);
                    if (correspondingNavItem) {
                        correspondingNavItem.classList.add('active');
                    }
                }
            }
        }
        
        function handleImageUpload(event) {
            const file = event.target.files[0];
            if (file) {
                // Show loading state
                const diseaseResults = document.getElementById('diseaseResults');
                const messagesDiv = document.getElementById('diseaseMessages');
                const imageUpload = document.querySelector('.image-upload');
                
                imageUpload.style.display = 'none';
                diseaseResults.style.display = 'block';
                
                // Add loading message
                const loadingMessage = document.createElement('div');
                loadingMessage.className = 'message ai';
                loadingMessage.innerHTML = `<strong>ЁЯФН Analyzing your plant image...</strong><br>Please wait while I process the photo.`;
                messagesDiv.appendChild(loadingMessage);
                
                const reader = new FileReader();
                reader.onload = function(e) {
                    // Simulate disease detection with realistic Telangana diseases
                    setTimeout(() => {
                        // Remove loading message
                        loadingMessage.remove();
                        
                        const telanganaLiseases = [
                            { name: 'Brown Leaf Spot', crop: 'Rice', confidence: 92, treatment: 'Apply Copper fungicide', prevention: 'Avoid overhead irrigation' },
                            { name: 'Pink Bollworm', crop: 'Cotton', confidence: 88, treatment: 'Use Bt cotton varieties', prevention: 'Regular field monitoring' },
                            { name: 'Early Blight', crop: 'Tomato', confidence: 85, treatment: 'Neem oil spray', prevention: 'Proper plant spacing' },
                            { name: 'Anthracnose', crop: 'Chilli', confidence: 90, treatment: 'Carbendazim spray', prevention: 'Good drainage' },
                            { name: 'Leaf Curl', crop: 'Cotton', confidence: 87, treatment: 'Remove infected leaves', prevention: 'Control whitefly vectors' }
                        ];
                        
                        const randomDisease = telanganaLiseases[Math.floor(Math.random() * telanganaLiseases.length)];
                        
                        const analysisMessage = document.createElement('div');
                        analysisMessage.className = 'message ai';
                        analysisMessage.innerHTML = `
                            <strong>ЁЯФН Analysis Complete</strong><br>
                            <strong>Disease Detected:</strong> ${randomDisease.name}<br>
                            <strong>Affected Crop:</strong> ${randomDisease.crop}<br>
                            <strong>Confidence:</strong> ${randomDisease.confidence}%<br>
                            <strong>Treatment:</strong> ${randomDisease.treatment}<br>
                            <strong>Prevention:</strong> ${randomDisease.prevention}<br>
                            <strong>Weather Advisory:</strong> Current humidity ${weatherData ? weatherData.main.humidity + '%' : '65%'} - ${weatherData && weatherData.main.humidity > 75 ? 'Monitor closely for fungal spread' : 'Good conditions for treatment'}
                        `;
                        messagesDiv.appendChild(analysisMessage);
                    }, 3000);
                };
                reader.readAsDataURL(file);
            }
        }
        
        function resetDiseaseDetection() {
            const imageUpload = document.querySelector('.image-upload');
            const diseaseResults = document.getElementById('diseaseResults');
            const messagesDiv = document.getElementById('diseaseMessages');
            const imageInput = document.getElementById('imageInput');
            
            // Reset interface
            imageUpload.style.display = 'block';
            diseaseResults.style.display = 'none';
            messagesDiv.innerHTML = '';
            imageInput.value = '';
        }
        
        function loadWeatherForecast() {
            const forecast = document.getElementById('weatherForecast');
           
            // Show location info for Telangana
            let forecastHTML = `
                <div style="background: #E8F5E8; padding: 15px; border-radius: 8px; margin-bottom: 20px; text-align: center;">
                    <strong>ЁЯУН Weather forecast for Telangana</strong><br>
                    <small>Data for ${userLocation.city}, ${userLocation.state}</small>
                </div>
            `;
            
            const days = ['Today', 'Tomorrow', 'Day 3', 'Day 4', 'Day 5', 'Day 6', 'Day 7'];
            const baseTemp = weatherData ? weatherData.main.temp : 28;
            
            const telanganaConditions = [
                { condition: 'Hot & Sunny', icon: 'тШАя╕П', temp: baseTemp + 2 },
                { condition: 'Partly Cloudy', icon: 'тЫЕ', temp: baseTemp - 1 },
                { condition: 'Rain Expected', icon: 'ЁЯМзя╕П', temp: baseTemp - 3, alert: true },
                { condition: 'Humid', icon: 'ЁЯМдя╕П', temp: baseTemp + 1 },
                { condition: 'Clear Sky', icon: 'тШАя╕П', temp: baseTemp + 3 },
                { condition: 'Thunderstorms', icon: 'тЫИя╕П', temp: baseTemp - 2, alert: true },
                { condition: 'Pleasant', icon: 'ЁЯМЮ', temp: baseTemp }
            ];
           
            days.forEach((day, index) => {
                const dayCondition = telanganaConditions[index];
                const alertClass = dayCondition.alert ? ' rain-alert' : '';
                
                forecastHTML += `
                    <div class="forecast-card${alertClass}">
                        <div>
                            <div class="forecast-day">${day}</div>
                            <div class="forecast-condition">${dayCondition.condition}</div>
                            ${dayCondition.alert ? '<div class="forecast-alert">тЪая╕П Avoid pesticide spraying</div>' : ''}
                        </div>
                        <div class="forecast-weather">
                            <div class="forecast-icon">${dayCondition.icon}</div>
                            <div class="forecast-temp">${Math.round(dayCondition.temp)}┬░C</div>
                        </div>
                    </div>
                `;
            });
           
            forecast.innerHTML = forecastHTML;
        }
        
        function loadMarketDetails() {
            const marketDetails = document.getElementById('marketDetails');
           
            // Telangana specific crops
            const telanganaCrops = [
                { name: 'Rice (Paddy)', basePrice: 3100, unit: 'qtl', market: 'Hyderabad APMC' },
                { name: 'Cotton', basePrice: 6800, unit: 'qtl', market: 'Cotton Market' },
                { name: 'Tomato', basePrice: 28, unit: 'kg', market: 'Local Mandi' },
                { name: 'Chilli', basePrice: 85, unit: 'kg', market: 'Spice Market' },
                { name: 'Turmeric', basePrice: 120, unit: 'kg', market: 'Nizamabad Market' },
                { name: 'Maize', basePrice: 2800, unit: 'qtl', market: 'Regional Market' }
            ];
            
            let marketHTML = `
                <div style="background: #E8F5E8; padding: 15px; border-radius: 8px; margin-bottom: 20px; text-align: center;">
                    <strong>ЁЯУН Market prices for Telangana</strong><br>
                    <small>Live rates from major mandis</small>
                </div>
            `;
           
            telanganaCrops.forEach(crop => {
                // Apply location-based price variation
                const locationFactor = 0.90 + Math.random() * 0.20; // 10% variation
                const currentPrice = Math.round(crop.basePrice * locationFactor);
                const trend = Math.random() > 0.5 ? 'up' : 'down';
                const trendPercent = Math.round(Math.random() * 8) + 2;
                const trendIcon = trend === 'up' ? 'тЖЧя╕П' : 'тЖШя╕П';
                const trendColor = trend === 'up' ? '#4CAF50' : '#F44336';
               
                marketHTML += `
                    <div style="background: white; padding: 15px; margin-bottom: 10px; border-radius: 8px; border-left: 4px solid #FF9800; transition: background 0.3s ease;">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 5px;">
                            <strong style="color: #2E7D32;">${crop.name}</strong>
                            <span style="font-size: 18px; font-weight: bold; color: #FF9800;">тВ╣${currentPrice}/${crop.unit}</span>
                        </div>
                        <div style="display: flex; justify-content: space-between; font-size: 12px; color: #666;">
                            <span>${crop.market}</span>
                            <span style="color: ${trendColor}">${trendIcon} ${trendPercent}%</span>
                        </div>
                        ${Math.random() > 0.6 ? `<div style="font-size: 11px; color: #FF9800; margin-top: 5px;">ЁЯТб ${trend === 'up' ? 'Good time to sell' : 'Prices may rise'}</div>` : ''}
                    </div>
                `;
            });
           
            marketDetails.innerHTML = marketHTML;
        }
        
        function startVoiceChat() {
            startListening();
        }
        
        // Event listeners
        document.getElementById('languageSelect').addEventListener('change', updateLanguage);
        document.getElementById('voiceButton').addEventListener('click', startListening);
        document.getElementById('darkModeToggle').addEventListener('click', toggleDarkMode);
        
        // Initialize app when DOM is loaded
        document.addEventListener('DOMContentLoaded', initApp);
        
        // Add some sample chat messages on initialization
        setTimeout(() => {
            addChatMessage("Welcome to Mitra AI! I'm here to help Telangana farmers with crop advice, weather updates, and market prices. You can ask me anything about farming in our region.", 'ai');
        }, 1000);
        
        // TODO: Add push notifications for weather alerts (use Notification API)
        // TODO: Implement offline support with Service Workers  
        // TODO: Expand languages - add more to translations object
        // TODO: User authentication - integrate with Firebase or similar for profiles
        // TODO: Add real API integrations for weather and market data
        // TODO: Integrate actual ML model for disease detection
        // TODO: Add crop calendar specific to Telangana farming seasons
        // TODO: Include government scheme notifications for Telangana farmers
    </script>
</body>
</html>
